# 단어 퀴즈 프로젝트

## 개요
- smi 파일 업로드
- 영어 문장을 한글 문장과 매칭하는 퀴즈
- 영어 문장들에 나오는 단어를 섞어서 퀴즈

## 홍보
- 아이언맨 좋아해요 ?
- 영화 대본을 소설책으로 읽어 보아요

## 개발 (완료 = 취소선)
- cli 먼저
- ~~개발 환경 설정 : 스프링 코틀린 자바17~~
- ~~파일 읽기 : smi 파일 읽기~~
- ~~데이터 정제 : 시간값을 키값으로 영어 문장, 한국어 문장 쌍의 데이터 확보~~
  - 자막 수동 싱크 기능 추가
  - 자막 싱크 군집화 기능 추가
- 디비화
- 새로운 데이터 생성
  - 단어 목록 확보
  - 단어와 문장간의 맵핑 정보 생성
    - 영어에서 문장과 단어 맵핑 정보는 유용할 듯
    - 한국어는 조사 때문에 단어, 문장 연관 관계가 크게 의미 없을 듯
  - 파일화 기능 개발
- 퀴즈 기능 개발
  - 영어 문장 1개 : 보기 = 한국어 문장 랜덤 4개
  - 영어 단어 1개 : 보기 = 한국어 단어 ???
    - 데이터는 문장 단위 인데, 단어 매칭을 어떻게 하지 ?
    - todo
    - 형태소 분석 등
    - 오버 스펙 ???
  - 퀴즈 문서 파일화 기능 개발
  - 맞춘 횟수, 틀린 횟수 기록
  - 퀴즈 보기 선별 기준
    - 문장 : 길이가 비슷한 정도로 ?
    - 단어 : 사전을 사용해야 하나 ???
      - 문장에 속한 단어들을 보기로 ??? 의미 없을 듯 한데
      - 문장 퀴즈에 속한 단어들을 보기로 사용 ?
        - 단어 매칭으로 정답인지 구분을 못하지 않나 ?
- 기타 기능
  - api 화
  - 사용자
    - 사용자별, 퀴즈 기록
    - 사용자별, 북마크
  - 소설책 기능
  - 한국어, 영어 문장을 나열해서 영화 대본처럼 보는 기능
  - 영어 문장만 보기
  - 한국어 문자만 보기
  - 합쳐서 보기
  - 북마크 기능
    - 이전에 보다가 종료한 지점 기록 기능
      - 구현 어려움, 필요성 큰가 ?
    - 분단위 시간 단위 구분 표시

---
## 이슈
- smi 파일 파일 인코딩
  - 한글은 EUC-KR 파일이 많다
  - CRLF 사용하는 파일이 많다
- 한글 자막, 영어 자막 싱크 이슈
  - 자막의 시간값을 키값으로 하여 "시간 한글 영어" 로 표현 하려고 했으나, 
  - 키가 되는 시간값이 문제가 있음
    - 일단, 값이 서로 다름 => 싱크 맞추면 됨
    - 싱크를 맞춰도, 시간 값이 미묘하게 다름
    - 자막 파일은 "시작 시간값 ms" + "텍스트 내용" 형식
    - 시작 시간값 ms 항목값이 ms 이므로 미묘하게 다름
      - 어떤 대사에서 영어 자막과 한글 자막이 904 ms 차이 나지만
      - 다른 대사에서 둘의 차이는 914 ms 차이가 발생
      - 아래 자료 참고
  - 키가 되는 시간값을 2번 보정 해야됨
    - 1차 : 두 자막 파일의 싱크 조절
    - 2차 : 5ms, 10ms 등으로 표준화 및 군집화 해야됨

---
- 한글 영어 자막 싱크 이슈 참고 자료
- 자세히 보니, 영어 자막은 10ms 단위 값만 사용한다 !
- 샘플 2,3 개 값인, +905 정도 전체 적용 후, 1000 단위로 군집하면 적당히 될 것 같은데 ?
```
# 샘플 한글, 영어 자막 데이터
  startMs | koText | enText |
-------------------------------------------
     7920 |  | A famous man once said, |
     8927 | 한 유명인사가 말하길 | | => +1007 ms
     
     9440 |  | "We create our own demons." |
    10343 | '우린 스스로의 악마를 만든다' | | => +903 ms
    
   354640 |  | Stamp date and time. |
   355556 | 날짜랑 시간 기록하고 | | => +916 ms
```

---